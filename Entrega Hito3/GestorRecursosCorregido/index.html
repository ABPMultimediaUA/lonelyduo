<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Prueba Matrices y Gestor de Recursos</title>

    <script type="text/javascript" src="toji-gl-matrix-21bd188/dist/gl-matrix.js"></script>
    <script type="text/javascript" src="parseObjToJson.js"></script>
    <script type="text/javascript" src="math.js"></script>
    <script type="text/javascript" src="TNodo.js"></script>
    <script type="text/javascript" src="TEntidad.js"></script>
    <script type="text/javascript" src="TRecurso.js"></script>
    <script type="text/javascript">

        console.log("--------- Empieza ---------");


        /** Crear nodos **/
        var nEscena = new TNodo();
            //añadimos 2 luces
            var nTrLuz1 = new TNodo();
            var nTrLuz2 = new TNodo();
            //añadimos 1 camaras
            var nTrCamara = new TNodo();
        var nTrMallas = new TNodo();
        var nTrCarroceria = new TNodo();
        var nTrRuedas = new TNodo();
            //añadimos 2 luces
            var nLuz1 = new TNodo();
            var nLuz2 = new TNodo();
                var nLuz21 = new TNodo();
            //añadimos 1 camara
            var nCam = new TNodo();
        var nCarroceria = new TNodo();
        var nRueda1 = new TNodo();
        var nRueda2 = new TNodo();
        var nRueda3 = new TNodo();
        var nRueda4 = new TNodo();

        /** nombre nodos **/
        nEscena.setNombre("nEscena");
        nTrLuz1.setNombre("nTrLuz1"); //ponemos nombre al nodo
        nTrLuz2.setNombre("nTrLuz2");
        nTrCamara.setNombre("nTrCamara");
        nTrMallas.setNombre("nTrMallas");
        nTrCarroceria.setNombre("nTrCarroceria");
        nTrRuedas.setNombre("nTrRuedas");
        nLuz1.setNombre("nLuz1");
        nLuz2.setNombre("nLuz2");
        nLuz21.setNombre("nLuz21");
        nCam.setNombre("nCam");
        nCarroceria.setNombre("nCarroceria");
        nRueda1.setNombre("nRueda1");
        nRueda2.setNombre("nRueda2");
        nRueda3.setNombre("nRueda3");
        nRueda4.setNombre("nRueda4");

        /** añadir hijos **/
        nEscena.addHijo(nTrLuz1);
        nEscena.addHijo(nTrLuz2);
        nEscena.addHijo(nTrCamara);
        nEscena.addHijo(nTrMallas);
            //colgamos mas hijos
            nTrLuz1.addHijo(nLuz1);
            nTrLuz2.addHijo(nLuz2);
            nLuz2.addHijo(nLuz21);
            nTrCamara.addHijo(nCam);
            nTrMallas.addHijo(nTrCarroceria);
                nTrCarroceria.addHijo(nCarroceria);
            nTrMallas.addHijo(nTrRuedas);
                nTrRuedas.addHijo(nRueda1);
                nTrRuedas.addHijo(nRueda2);
                nTrRuedas.addHijo(nRueda3);
                nTrRuedas.addHijo(nRueda4);

        /** Crear entidades **/
        var transLuz1 = new TTransform();
        var transLuz2 = new TTransform();
        var transCamara = new TTransform();
        var transMallas = new TTransform();
        var transCarroceria = new TTransform();
        var transRuedas = new TTransform();
        var luz1 = new TLuz();
        var luz2 = new TLuz();
        var luz21 = new TLuz();
        var cam = new TCamara();
        var carroceria = new TMalla();
        var rueda1 = new TMalla();
        var rueda2 = new TMalla();
        var rueda3 = new TMalla();
        var rueda4 = new TMalla();

        /** Añadir entidades **/
        nTrLuz1.setEntidad(transLuz1);
        nTrLuz2.setEntidad(transLuz2);
        nTrCamara.setEntidad(transCamara);
        nTrMallas.setEntidad(transMallas);
        nTrCarroceria.setEntidad(transCarroceria);
        nTrRuedas.setEntidad(transRuedas);
        nLuz1.setEntidad(luz1);
        nLuz2.setEntidad(luz2);
        nLuz21.setEntidad(luz21);
        nCam.setEntidad(cam);
        nCarroceria.setEntidad(carroceria);
        nRueda1.setEntidad(rueda1);
        nRueda2.setEntidad(rueda2);
        nRueda3.setEntidad(rueda3);
        nRueda4.setEntidad(rueda4);

        nEscena.draw();

        //sacamos el array de luces
        console.log("Registro luces: ");
        console.log(TNodo.registroLuces);

        //sacamos el array de camaras
        console.log("Registro cámaras: ");
        console.log(TNodo.registroCamaras);


        console.log("--------- Termina ---------");

    </script>
</head>
<body>

<h1 align="center">Prueba de arbol y gestion de recursos [CAMARAS/LUCES]</h1>

<div align="center"> Abre la consola con CMD + Alt + J para visualizar los resultados</div>

</body>
</html>